head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2002.03.13.14.02.15;	author swasey;	state Exp;
branches;
next	1.3;

1.3
date	2002.03.06.11.17.27;	author swasey;	state Exp;
branches;
next	1.2;

1.2
date	2002.03.06.11.12.23;	author swasey;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.06.10.55.39;	author swasey;	state Exp;
branches;
next	;


desc
@@


1.4
log
@*** empty log message ***
@
text
@#include <sys/trap.h>

! unit my_openf(word ignored)
	
	.section ".text"
	.globl	my_openf
	
	.proc	07
	.align  4
my_openf:
	! flushw -- avoids error
	! ta	ST_FLUSH_WINDOWS -- avoids error
	save	%sp, -120, %sp				! -112 abort, -120 illegal
	sethi	%hi(filename), %o0
	or	%o0, %lo(filename), %o0			! first argument  "/dev/null"
	clr	%o1					! second argument 0
	clr	%o2					! third argument  0
	call	open
	nop						! delay slot empty
	call	abort
	nop						! delay slot empty
	.size my_openf,(.-my_openf)

	.data
filename:
	.ascii "/dev/null\000"
	@


1.3
log
@*** empty log message ***
@
text
@d12 1
@


1.2
log
@*** empty log message ***
@
text
@a20 3
	mov	0x100, %i0				! return emtpy_record ()
	ret
	restore
@


1.1
log
@Initial revision
@
text
@a0 5
 ! (1) Assumes that the thread pointer points to a structure containing
 ! 32 longs constituting the integer register set followed by 16 doubles
 ! constituting the floating-point register set
 ! (2) Assumes that the thread pointer is unmodified by call to gcFromML

d3 1
a3 1
! This horrible code is based on the C compiler output
d7 1
a7 1

d11 2
a12 2
	save	%sp, -112, %sp				! -112 abort, -120 illegal
	st	%i0, [%fp + 0x44]			! save oflag on stack
d15 1
a15 1
	ld	[%fp + 0x44], %o1			! second argument oflag
d21 1
a21 4
	mov	0x100, %i0				! return ()
	b	skip
	nop						! delay slot empty
skip:
@
